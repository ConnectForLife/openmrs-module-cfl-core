[
  {
    "id": "cfl.registerCaregiver",
    "label": "cfl.registration.caregiver.title",
    "description": "Create a new Caregiver Record",
    "extensions": [
      {
        "id": "cfl.registerCaregiver.homepageLink",
        "extensionPointId": "org.openmrs.referenceapplication.homepageLink",
        "type": "link",
        "label": "cfl.registration.caregiver.homepage.label",
        "url": "cfl/registerPerson.page?appId=cfl.registerCaregiver",
        "icon": "icon-user",
        "order": 4,
        "requiredPrivilege": "App: cfl.registerCaregiver"
      }
    ],
    "config": {
      "afterCreatedUrl": "/coreapps/clinicianfacing/patient.page?patientId={{patientId}}&dashboard=person",
      "afterCreatedActions": ["cfl.personIdentifierAction"],
      "sections": [
        {
          "id": "demographics",
          "label": "cfl.registration.section.demographics.label",
          "questions": [
            {
              "id": "name",
              "legend": "cfl.registration.name.label"
            },
            {
              "legend": "cfl.registration.language.label",
              "id": "language",
              "fields": [
                {
                  "type": "personAttribute",
                  "label": "cfl.registration.language.select.label",
                  "formFieldName": "personLanguage",
                  "uuid": "ff34db58-c1f4-475b-8bac-30f26e251333",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/dropDown",
                    "config": {
                      "options": [
                        {
                          "label": "English",
                          "value": "English"
                        },
                        {
                          "label": "Marathi",
                          "value": "Marathi"
                        },
                        {
                          "label": "Hindi",
                          "value": "English"
                        }
                      ],
                      "hideEmptyLabel": true,
                      "expanded": false
                    }
                  },
                  "cssClasses": [
                    "required"
                  ]
                }
              ]
            },
            {
              "legend": "cfl.registration.phone.label",
              "id": "phoneNumberLabel",
              "fields": [
                {
                  "type": "personAttribute",
                  "label": "cfl.registration.caregiver.phone.question",
                  "formFieldName": "phoneNumber",
                  "uuid": "14d4f066-15f5-102d-96e4-000c29c2a5d7",
                  "widget": {
                    "providerName": "uicommons",
                    "fragmentId": "field/text",
                    "config": {
                      "regex": "^([0-9]{10,13}|)$"
                    }
                  },
                  "cssClasses": [
                    "phone",
                    "required",
                    "regex"
                  ]
                }
              ]
            },
            {
              "legend": "cfl.registration.relationship.label",
              "id": "personRelationship",
              "cssClasses": ["person-relationship-validator"],
              "header": "cfl.registration.caregiver.relationship.question",
              "fields": [
                {
                  "type": "personRelationships",
                  "widget": {
                    "providerName": "cfl",
                    "fragmentId": "field/personRelationship"
                  },
                  "cssClasses": [
                    "required"
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  }
]
